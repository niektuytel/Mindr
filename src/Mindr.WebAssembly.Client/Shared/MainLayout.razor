@using Microsoft.Fast.Components.FluentUI;
@using Mindr.WebAssembly.Client.Components
@using Mindr.WebAssembly.Client.Models;
@using Mindr.WebAssembly.Client.Shared.Header

@namespace Mindr.WebAssembly.Client.Shared
@inherits LayoutComponentBase

<PageTitle>Mindr.WebUI</PageTitle>

<div id="page-container" @ref="Container">
    <Header Container="Container" />
    <main id="content-wrap">
        <Mindr.WebAssembly.Client.Components.NavMenu Class="nav-menu" Expanded="true">
            @foreach (Page _page in Client.Constants.Pages)
            {
                <NavMenuLink Icon="@_page.Icon" Text="@_page.Name" Href="@_page.Href" Disabled="@_page.Disabled" />
            }
        </Mindr.WebAssembly.Client.Components.NavMenu>
        <Stack class="child-stack" Orientation="Orientation.Vertical" VerticalGap="0">
            <ErrorBoundary @ref="ErrorBoundary">
                <ChildContent>
                    @Body
                </ChildContent>
                <ErrorContent Context="ex">
                    <Breadcrumb />
                    <div class="blazor-error-boundary">
                        @ex.Message
                    </div>
                </ErrorContent>
            </ErrorBoundary>
        </Stack>
    </main>
    <Footer />
</div>