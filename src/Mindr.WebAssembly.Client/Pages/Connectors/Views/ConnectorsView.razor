@using Mindr.Domain.Models.DTO.Connector
@using Mindr.WebAssembly.Client.Components
@using Mindr.WebAssembly.Client.Shared
@using Mindr.WebAssembly.Client.Pages.Connectors.Components
@using Microsoft.AspNetCore.Authorization
@using System.Collections.ObjectModel
@using Mindr.WebAssembly.Client.Models
@using System.Text.Json.Serialization
@using MudBlazor

@namespace Mindr.WebAssembly.Client.Pages.Connectors.Views
@inherits LayoutComponentBase

<MudStack Spacing="0">
    <Breadcrumb/>
    <MudStack Row="true">
        <MudButton StartIcon="@Icons.Material.Filled.Add" IconColor="Color.Primary" Size="Size.Large" @onclick="HandleDialogOpen">Add</MudButton>
    </MudStack>
    <MudTable T="ConnectorBriefDTO" Items="@DataCollection" Hover="true" OnRowClick="HandleRowClick" Breakpoint="Breakpoint.Sm" Loading="@IsLoading" LoadingProgressColor="Color.Info">
        <HeaderContent>
            <MudTh>Name</MudTh>
            <MudTh>Description</MudTh>
            <MudTh>Total Using</MudTh>
            <MudTh>Color</MudTh>
        </HeaderContent>
        <RowTemplate>
            <MudTd DataLabel="Name">@context.Name</MudTd>
            <MudTd DataLabel="Description">@context.Description</MudTd>
            <MudTd DataLabel="TotalUsing">@context.TotalUsing</MudTd>
            <MudTd DataLabel="Color">@context.Color</MudTd>
        </RowTemplate>
    </MudTable>
</MudStack>
