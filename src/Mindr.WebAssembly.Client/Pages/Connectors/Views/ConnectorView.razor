@using Microsoft.AspNetCore.Authorization;
@using System.Collections.ObjectModel;
@using Mindr.WebAssembly.Client.Components
@using Mindr.WebAssembly.Client.Models;
@using Mindr.WebAssembly.Client.Pages.Connectors.Components
@using Mindr.WebAssembly.Client.Shared
@using System.Text.Json.Serialization;
@using MudBlazor

@namespace Mindr.WebAssembly.Client.Pages.Connectors.Views
@attribute [Authorize]
@inherits LayoutComponentBase

<MudStack>
    @if (ConnectorInfo != null)
    {
        <Breadcrumb DisplayValue="@ConnectorInfo.Name"/>
    }
    <MudStack Row="true">
        <ConnectorNavMenu ConnectorId="@ConnectorId"/>
        @if(IsLoading)
        {
            <MudProgressLinear Color="Color.Primary" Indeterminate="true" Class="my-7" />
        }
        else if (string.IsNullOrEmpty(NavName) || NavName.ToLower() == "overview")
        {
            <ConnectorOverview Overview="@ConnectorInfo" />
        }
        else if (NavName.ToLower() == "pipeline")
        {
            <ConnectorPipeline ConnectorId="@ConnectorId" />
        }
    </MudStack>
</MudStack>


