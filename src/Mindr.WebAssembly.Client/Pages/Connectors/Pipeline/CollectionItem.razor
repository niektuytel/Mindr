@using Microsoft.Fast.Components.FluentUI;
@using Mindr.WebAssembly.Client.Models;
@using Mindr.Domain.HttpRunner.Models;
@namespace Mindr.WebAssembly.Client.Pages.Connectors.Pipeline

@if (Data.Items != null && Data.Items.Any())
{
    <FluentTreeItem Expanded="false">
        <FluentIcon Name="@FluentIcons.Folder" Slot="start" Size="@IconSize.Size16" Color=Color.Neutral/>
        @Data.Name
        @foreach (var data in Data.Items)
        {
            <CollectionItem Data="@data" OnAddHandle="OnAddHandle" />
        }
    </FluentTreeItem>
}
else if(Data.Request != null)
{
    <FluentTreeItem Expanded="false" @onclick="() => OnAddHandle(Data)">
        <FluentIcon Name="@FluentIcons.ReadingListAdd" Slot="start" Size="@IconSize.Size16" Variant="@IconVariant.Filled" Color="@Color.Neutral" />
        @Data.Name
    </FluentTreeItem>
}

@code {
    [Parameter, EditorRequired]
    public HttpItem Data { get; set; } = default!;

    [Parameter, EditorRequired]
    public Action<HttpItem> OnAddHandle { get; set; } = default!;
}
