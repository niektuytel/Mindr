@using Microsoft.AspNetCore.Authorization
@using Microsoft.Fast.Components.FluentUI
@using Mindr.WebAssembly.Client.Components
@using Mindr.Domain.Models.DTO.Connector
@using System.Collections.ObjectModel
@using Mindr.WebAssembly.Client.Models

@namespace Mindr.WebAssembly.Client.Pages.Agenda.Components
@inherits FluentComponentBase

<GoogleAuthentication @ref="Authentication" RedirectUri="@RedirectUri" ClientId="@Constants.GoogleAgendaClientId" ClientSecret="@Constants.GoogleAgendaClientSecret" Scopes="@Constants.GoogleAgendaScopes">
    <AuthenticatedView>
            <FluentDialog Modal="true" TrapFocus="true" @ref="Dialog" @ondialogdismiss="HandleDialogDismiss" Style="height:fit-content">

                @if (!string.IsNullOrEmpty(ErrorMessage))
                {
                    <Stack Style="min-height:50px;border: 1px solid #D8000C;background-color: #FFBABA;padding: 3px;">
                        @ErrorMessage
                    </Stack>
                }

                @if (!IsLoadingDialog)
                {
                    @* <FluentTextField @bind-Value="@Data.Name" Placeholder="Title" style="width: 100%;" />
                <FluentTextArea @bind-Value="@Data.Description" Placeholder="Description" style="width: 100%;" />
                <Stack Orientation="Orientation.Horizontal" HorizontalAlignment="StackHorizontalAlignment.Right" Style="padding:5px">
                <FluentButton Appearance="Appearance.Accent" Autofocus="true" @onclick="HandleDialogClose">Close</FluentButton>
                <FluentButton Appearance="Appearance.Accent" Autofocus="true" @onclick="OnConnectorAdd">Create</FluentButton>
                </Stack>*@
                }
                else
                {
                    <Stack HorizontalAlignment="StackHorizontalAlignment.Center" VerticalAlignment="StackVerticalAlignment.Center">
                        <FluentProgressRing />
                    </Stack>
                }
        </FluentDialog>
    </AuthenticatedView>
</GoogleAuthentication>





