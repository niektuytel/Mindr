@using DemoApp.Models;
@using Mindr.Domain.Models.DTO.Calendar;
@using Mindr.WebAssembly.Client.Pages.Calendar.Components;
@using MudBlazor;

<MudDialog>
    <TitleContent>
        <MudText Typo="Typo.h6">
            <MudIcon Icon="@Icons.Material.Filled.CalendarToday" Class="mr-3"/> @Appointment.Subject
        </MudText>
    </TitleContent>
    <DialogContent>
        <MudTextField T="string" Label="Title" @bind-Text="Appointment.Subject" />
        <MudDateRangePicker Label="When" @bind-DateRange="_dateRange" />
        <MudColorPicker Label="Color" @bind-Text="Appointment.Color" Style="@($"color: {Appointment.Color};")" />


        <MudGrid Justify="Justify.FlexStart" Spacing="0">
            @foreach (var connectorEvent in Appointment.ConnectorEvents)
            {
                <MudItem>
                    <MudChip 
                        Style=@($"border-color: {connectorEvent.ConnectorColor};border-style: solid;border-width: 2px;")
                         @*OnClick="() => cw"*@
                         OnClose="() => OnHandleRemoveConnectorEvent(connectorEvent)"
                    >
                        @connectorEvent.ConnectorName
                    </MudChip>
                </MudItem>
            }
            <MudItem>
                @*<MudChip Color="Color.Tertiary" OnClick="ItemDrawer!.HandleOpenOnCreate">
                    <b>+</b>
                </MudChip>*@
            </MudItem>
        </MudGrid>
    </DialogContent>
    <DialogActions>
        <MudButton Variant="Variant.Filled" Color="Color.Primary" OnClick="Close" Class="px-10">Close</MudButton>
    </DialogActions>
</MudDialog>

