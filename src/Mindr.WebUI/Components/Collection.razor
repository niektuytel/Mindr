@using Mindr.WebUI.Models;

<FluentTreeView>
    @foreach (var collection in Data)
    {
        <FluentTreeItem Expanded="false">
            <FluentIcon Name="@FluentIcons.Collections" Slot="start" Size="@IconSize.Size20" Color=Color.Neutral />
            @collection.Info.Name
            @foreach(var folder in collection.Items)
            {
                <CollectionItem Data="@folder" OnAddHandle="(item) => OnAddHandle(item, collection.Variable)" />
            }
        </FluentTreeItem>
    }
</FluentTreeView>

@code {
    [Parameter, EditorRequired]
    public IEnumerable<HttpCollection> Data { get; set; } = default!;

    [Parameter, EditorRequired]
    public Action<HttpItem, HttpVariable[]> OnAddHandle { get; set; } = default!;
}
